!function(b,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):a(b.d3=b.d3||{})}(this,function(j){function g(){for(var l,i=0,f=arguments.length,k={};i<f;++i){if(!(l=arguments[i]+"")||l in k){throw new Error("illegal type: "+l)}k[l]=[]}return new b(k)}function b(e){this._=e}function c(i,f){return i.trim().split(/^|\s+/).map(function(l){var e="",k=l.indexOf(".");if(k>=0&&(e=l.slice(k+1),l=l.slice(0,k)),l&&!f.hasOwnProperty(l)){throw new Error("unknown type: "+l)}return{type:l,name:e}})}function h(m,k){for(var f,i=0,l=m.length;i<l;++i){if((f=m[i]).name===k){return f.value}}}function a(m,k,f){for(var i=0,l=m.length;i<l;++i){if(m[i].name===k){m[i]=d,m=m.slice(0,i).concat(m.slice(i+1));break}}return null!=f&&m.push({name:k,value:f}),m}var d={value:function(){}};b.prototype=g.prototype={constructor:b,on:function(r,q){var o,p=this._,k=c(r+"",p),m=-1,i=k.length;if(!(arguments.length<2)){if(null!=q&&"function"!=typeof q){throw new Error("invalid callback: "+q)}for(;++m<i;){if(o=(r=k[m]).type){p[o]=a(p[o],r.name,q)}else{if(null==q){for(o in p){p[o]=a(p[o],r.name,null)}}}}return this}for(;++m<i;){if((o=(r=k[m]).type)&&(o=h(p[o],r.name))){return o}}},copy:function(){var k={},i=this._;for(var f in i){k[f]=i[f].slice()}return new b(k)},call:function(q,m){if((k=arguments.length-2)>0){for(var k,l,p=new Array(k),f=0;f<k;++f){p[f]=arguments[f+2]}}if(!this._.hasOwnProperty(q)){throw new Error("unknown type: "+q)}for(l=this._[q],f=0,k=l.length;f<k;++f){l[f].value.apply(m,p)}},apply:function(q,m,k){if(!this._.hasOwnProperty(q)){throw new Error("unknown type: "+q)}for(var l=this._[q],p=0,f=l.length;p<f;++p){l[p].value.apply(m,k)}}},j.dispatch=g,Object.defineProperty(j,"__esModule",{value:!0})});