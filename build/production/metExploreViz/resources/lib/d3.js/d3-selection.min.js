!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.d3=a.d3||{})}(this,function(aB){function aJ(a){var c=a+="",b=c.indexOf(":");return b>=0&&"xmlns"!==(c=a.slice(0,b))&&(a=a.slice(b+1)),bl.hasOwnProperty(c)?{space:bl[c],local:a}:a}function aT(a){return function(){var c=this.ownerDocument,b=this.namespaceURI;return b===a6&&c.documentElement.namespaceURI===a6?c.createElement(a):c.createElementNS(b,a)}}function aD(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function aP(b){var a=aJ(b);return(a.local?aD:aT)(a)}function aI(){return new aA}function aA(){this._="@"+(++aa).toString(36)}function aV(a,c,b){return a=aC(a,c,b),function(f){var d=f.relatedTarget;d&&(d===this||8&d.compareDocumentPosition(this))||a.call(this,f)}}function aC(c,b,a){return function(d){var e=aB.event;aB.event=d;try{c.call(this,this.__data__,b,a)}finally{aB.event=e}}}function aY(a){return a.trim().split(/^|\s+/).map(function(b){var d="",c=b.indexOf(".");return c>=0&&(d=b.slice(c+1),b=b.slice(0,c)),{type:b,name:d}})}function aM(a){return function(){var g=this.__on;if(g){for(var d,c=0,b=-1,f=g.length;c<f;++c){d=g[c],a.type&&d.type!==a.type||d.name!==a.name?g[++b]=d:this.removeEventListener(d.type,d.listener,d.capture)}++b?g.length=b:delete this.__on}}}function aS(a,d,c){var b=ab.hasOwnProperty(a.type)?aV:aC;return function(j,n,h){var p,k=this.__on,g=b(d,n,h);if(k){for(var e=0,m=k.length;e<m;++e){if((p=k[e]).type===a.type&&p.name===a.name){return this.removeEventListener(p.type,p.listener,p.capture),this.addEventListener(p.type,p.listener=g,p.capture=c),void (p.value=d)}}}this.addEventListener(a.type,g,c),p={type:a.type,name:a.name,value:d,listener:g,capture:c},k?k.push(p):this.__on=[p]}}function aQ(q,f,k){var a,g,d=aY(q+""),m=d.length;if(!(arguments.length<2)){for(l=f?aS:aM,null==k&&(k=!1),a=0;a<m;++a){this.each(l(d[a],f,k))}return this}var l=this.node().__on;if(l){for(var v,j=0,b=l.length;j<b;++j){for(a=0,v=l[j];a<m;++a){if((g=d[a]).type===v.type&&g.name===v.name){return v.value}}}}}function aH(f,c,b,a){var d=aB.event;f.sourceEvent=aB.event,aB.event=f;try{return c.apply(b,a)}finally{aB.event=d}}function aZ(){for(var b,a=aB.event;b=a.sourceEvent;){a=b}return a}function az(b,f){var d=b.ownerSVGElement||b;if(d.createSVGPoint){var c=d.createSVGPoint();return c.x=f.clientX,c.y=f.clientY,c=c.matrixTransform(b.getScreenCTM().inverse()),[c.x,c.y]}var a=b.getBoundingClientRect();return[f.clientX-a.left-b.clientLeft,f.clientY-a.top-b.clientTop]}function aU(a){var b=aZ();return b.changedTouches&&(b=b.changedTouches[0]),az(a,b)}function aK(){}function au(a){return null==a?aK:function(){return this.querySelector(a)}}function aR(q){"function"!=typeof q&&(q=au(q));for(var f=this._groups,j=f.length,b=new Array(j),h=0;h<j;++h){for(var d,p,k=f[h],v=k.length,m=b[h]=new Array(v),g=0;g<v;++g){(d=k[g])&&(p=q.call(d,d.__data__,g,k))&&("__data__" in d&&(p.__data__=d.__data__),m[g]=p)}}return new aq(b,this._parents)}function aw(){return[]}function bA(a){return null==a?aw:function(){return this.querySelectorAll(a)}}function av(m){"function"!=typeof m&&(m=bA(m));for(var f=this._groups,h=f.length,b=[],g=[],d=0;d<h;++d){for(var l,j=f[d],p=j.length,k=0;k<p;++k){(l=j[k])&&(b.push(m.call(l,l.__data__,k,j)),g.push(l))}}return new aq(b,g)}function bd(m){"function"!=typeof m&&(m=a8(m));for(var f=this._groups,h=f.length,b=new Array(h),g=0;g<h;++g){for(var d,l=f[g],j=l.length,p=b[g]=[],k=0;k<j;++k){(d=l[k])&&m.call(d,d.__data__,k,l)&&p.push(d)}}return new aq(b,this._parents)}function aX(a){return new Array(a.length)}function bv(){return new aq(this._enter||this._groups.map(aX),this._parents)}function bk(a,b){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=b}function bx(a){return function(){return a}}function bm(m,f,h,b,g,d){for(var l,j=0,p=f.length,k=d.length;j<k;++j){(l=f[j])?(l.__data__=d[j],b[j]=l):h[j]=new bk(m,d[j])}for(;j<p;++j){(l=f[j])&&(g[j]=l)}}function bn(A,j,w,b,m,g,z){var x,B,y,k={},v=j.length,q=g.length,d=new Array(v);for(x=0;x<v;++x){(B=j[x])&&(d[x]=y=al+z.call(B,B.__data__,x,j),y in k?m[x]=B:k[y]=B)}for(x=0;x<q;++x){y=al+z.call(A,g[x],x,g),(B=k[y])?(b[x]=B,B.__data__=g[x],k[y]=null):w[x]=new bk(A,g[x])}for(x=0;x<v;++x){(B=j[x])&&k[d[x]]===B&&(m[x]=B)}}function bh(x,F){if(!x){return D=new Array(this.size()),P=-1,this.each(function(a){D[++P]=a}),D}var M=F?bn:bm,B=this._parents,I=this._groups;"function"!=typeof x&&(x=bx(x));for(var E=I.length,q=new Array(E),O=new Array(E),z=new Array(E),P=0;P<E;++P){var H=B[P],L=I[P],J=L.length,D=x.call(H,H&&H.__data__,P,B),Q=D.length,k=O[P]=new Array(Q),N=q[P]=new Array(Q),G=z[P]=new Array(J);M(H,L,k,N,G,D,F);for(var b,K,j=0,C=0;j<Q;++j){if(b=k[j]){for(j>=C&&(C=j+1);!(K=N[C])&&++C<Q;){}b._next=K||null}}}return q=new aq(q,B),q._enter=O,q._exit=z,q}function bb(){return new aq(this._exit||this._groups.map(aX),this._parents)}function aG(A){for(var j=this._groups,w=A._groups,b=j.length,m=w.length,g=Math.min(b,m),z=new Array(b),x=0;x<g;++x){for(var B,y=j[x],k=w[x],v=y.length,q=z[x]=new Array(v),d=0;d<v;++d){(B=y[d]||k[d])&&(q[d]=B)}}for(;x<b;++x){z[x]=j[x]}return new aq(z,this._parents)}function bi(){for(var c=this._groups,h=-1,f=c.length;++h<f;){for(var d,b=c[h],g=b.length-1,a=b[g];--g>=0;){(d=b[g])&&(a&&a!==d.nextSibling&&a.parentNode.insertBefore(d,a),a=d)}}return this}function bz(q){function f(c,a){return c&&a?q(c.__data__,a.__data__):!c-!a}q||(q=bw);for(var j=this._groups,b=j.length,h=new Array(b),d=0;d<b;++d){for(var p,k=j[d],v=k.length,m=h[d]=new Array(v),g=0;g<v;++g){(p=k[g])&&(m[g]=p)}m.sort(f)}return new aq(h,this._parents).order()}function bw(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function a9(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this}function bf(){var a=new Array(this.size()),b=-1;return this.each(function(){a[++b]=this}),a}function aO(){for(var c=this._groups,h=0,f=c.length;h<f;++h){for(var d=c[h],b=0,g=d.length;b<g;++b){var a=d[b];if(a){return a}}}return null}function ar(){var a=0;return this.each(function(){++a}),a}function br(){return !this.node()}function bq(d){for(var k=this._groups,g=0,f=k.length;g<f;++g){for(var b,h=k[g],a=0,j=h.length;a<j;++a){(b=h[a])&&d.call(b,b.__data__,a,h)}}return this}function ba(a){return function(){this.removeAttribute(a)}}function aN(a){return function(){this.removeAttributeNS(a.space,a.local)}}function bs(a,b){return function(){this.setAttribute(a,b)}}function a5(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function a3(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}function bJ(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}function bu(b,d){var c=aJ(b);if(arguments.length<2){var a=this.node();return c.local?a.getAttributeNS(c.space,c.local):a.getAttribute(c)}return this.each((null==d?c.local?aN:ba:"function"==typeof d?c.local?bJ:a3:c.local?a5:bs)(c,d))}function bp(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function bo(a){return function(){this.style.removeProperty(a)}}function bg(a,c,b){return function(){this.style.setProperty(a,c,b)}}function a7(a,c,b){return function(){var d=c.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,b)}}function a2(a,d,c){var b;return arguments.length>1?this.each((null==d?bo:"function"==typeof d?a7:bg)(a,d,null==c?"":c)):bp(b=this.node()).getComputedStyle(b,null).getPropertyValue(a)}function bc(a){return function(){delete this[a]}}function a4(a,b){return function(){this[a]=b}}function bU(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}function bO(a,b){return arguments.length>1?this.each((null==b?bc:"function"==typeof b?bU:a4)(a,b)):this.node()[a]}function ap(a){return a.trim().split(/^|\s+/)}function ax(a){return a.classList||new aE(a)}function aE(a){this._node=a,this._names=ap(a.getAttribute("class")||"")}function ao(b,f){for(var d=ax(b),c=-1,a=f.length;++c<a;){d.add(f[c])}}function bF(b,f){for(var d=ax(b),c=-1,a=f.length;++c<a;){d.remove(f[c])}}function by(a){return function(){ao(this,a)}}function bM(a){return function(){bF(this,a)}}function bK(a,b){return function(){(b.apply(this,arguments)?ao:bF)(this,a)}}function a0(b,g){var d=ap(b+"");if(arguments.length<2){for(var c=ax(this.node()),a=-1,f=d.length;++a<f;){if(!c.contains(d[a])){return !1}}return !0}return this.each(("function"==typeof g?bK:g?by:bM)(d,g))}function ak(){this.textContent=""}function bT(a){return function(){this.textContent=a}}function am(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}function ah(a){return arguments.length?this.each(null==a?ak:("function"==typeof a?am:bT)(a)):this.node().textContent}function bD(){this.innerHTML=""}function bH(a){return function(){this.innerHTML=a}}function bB(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}function ae(a){return arguments.length?this.each(null==a?bD:("function"==typeof a?bB:bH)(a)):this.node().innerHTML}function bL(){this.nextSibling&&this.parentNode.appendChild(this)}function bQ(){return this.each(bL)}function bR(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function aW(){return this.each(bR)}function aj(a){var b="function"==typeof a?a:aP(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})}function bG(){return null}function a1(a,d){var c="function"==typeof a?a:aP(a),b=null==d?bG:"function"==typeof d?d:au(d);return this.select(function(){return this.insertBefore(c.apply(this,arguments),b.apply(this,arguments)||null)})}function bP(){var a=this.parentNode;a&&a.removeChild(this)}function ad(){return this.each(bP)}function aF(a){return arguments.length?this.property("__data__",a):this.node().__data__}function bI(b,f,d){var c=bp(b),a=c.CustomEvent;a?a=new a(f,d):(a=c.document.createEvent("Event"),d?(a.initEvent(f,d.bubbles,d.cancelable),a.detail=d.detail):a.initEvent(f,!1,!1)),b.dispatchEvent(a)}function ac(a,b){return function(){return bI(this,a,b)}}function be(a,b){return function(){return bI(this,a,b.apply(this,arguments))}}function bC(a,b){return this.each(("function"==typeof b?be:ac)(a,b))}function aq(a,b){this._groups=a,this._parents=b}function aL(){return new aq([[document.documentElement]],an)}function af(a){return"string"==typeof a?new aq([[document.querySelector(a)]],[document.documentElement]):new aq([[a]],an)}function ai(a){return"string"==typeof a?new aq([document.querySelectorAll(a)],[document.documentElement]):new aq([null==a?[]:a],an)}function bj(b,g,d){arguments.length<3&&(d=g,g=aZ().changedTouches);for(var c,a=0,f=g?g.length:0;a<f;++a){if((c=g[a]).identifier===d){return az(b,c)}}return null}function bE(b,f){null==f&&(f=aZ().touches);for(var d=0,c=f?f.length:0,a=new Array(c);d<c;++d){a[d]=az(b,f[d])}return a}var a6="http://www.w3.org/1999/xhtml",bl={svg:"http://www.w3.org/2000/svg",xhtml:a6,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},aa=0;aA.prototype=aI.prototype={constructor:aA,get:function(a){for(var b=this._;!(b in a);){if(!(a=a.parentNode)){return}}return a[b]},set:function(a,b){return a[this._]=b},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}};var bN=function(a){return function(){return this.matches(a)}};if("undefined"!=typeof document){var ag=document.documentElement;if(!ag.matches){var bS=ag.webkitMatchesSelector||ag.msMatchesSelector||ag.mozMatchesSelector||ag.oMatchesSelector;bN=function(a){return function(){return bS.call(this,a)}}}}var a8=bN,ab={};if(aB.event=null,"undefined"!=typeof document){var ay=document.documentElement;"onmouseenter" in ay||(ab={mouseenter:"mouseover",mouseleave:"mouseout"})}bk.prototype={constructor:bk,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var al="$";aE.prototype={add:function(a){var b=this._names.indexOf(a);b<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var b=this._names.indexOf(a);b>=0&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var an=[null];aq.prototype=aL.prototype={constructor:aq,select:aR,selectAll:av,filter:bd,data:bh,enter:bv,exit:bb,merge:aG,order:bi,sort:bz,call:a9,nodes:bf,node:aO,size:ar,empty:br,each:bq,attr:bu,style:a2,property:bO,classed:a0,text:ah,html:ae,raise:bQ,lower:aW,append:aj,insert:a1,remove:ad,datum:aF,on:aQ,dispatch:bC},aB.creator=aP,aB.local=aI,aB.matcher=a8,aB.mouse=aU,aB.namespace=aJ,aB.namespaces=bl,aB.select=af,aB.selectAll=ai,aB.selection=aL,aB.selector=au,aB.selectorAll=bA,aB.touch=bj,aB.touches=bE,aB.window=bp,aB.customEvent=aH,Object.defineProperty(aB,"__esModule",{value:!0})});