!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.d3=a.d3||{})}(this,function(B){function G(){return k||(g(M),k=P.now()+q)}function M(){k=0}function J(){this._call=this._time=this._next=null}function F(a,d,b){var c=new J;return c.restart(a,d,b),c}function D(){G(),++E;for(var a,b=R;b;){(a=k-b._time)>=0&&b._call.call(null,a),b=b._next}--E}function A(){k=(N=P.now())+q,E=K=0;try{D()}finally{E=0,O(),k=0}}function I(){var a=P.now(),b=a-N;b>j&&(q-=b,N=a)}function O(){for(var b,d,c=R,a=1/0;c;){c._call?(a>c._time&&(a=c._time),b=c,c=c._next):(d=c._next,c._next=null,c=b?b._next=d:R=d)}H=b,L(a)}function L(a){if(!E){K&&(K=clearTimeout(K));var b=a-k;b>24?(a<1/0&&(K=setTimeout(A,b)),z&&(z=clearInterval(z))):(z||(z=setInterval(I,j)),E=1,g(A))}}function Q(a,d,b){var c=new J;return d=null==d?0:+d,c.restart(function(f){c.stop(),a(f+d)},d,b),c}function C(b,d,f){var c=new J,a=d;return null==d?(c.restart(b,d,f),c):(d=+d,f=null==f?h():+f,c.restart(function h(e){e+=a,c.restart(h,a+=d,f),b(e)},d,f),c)}var R,H,E=0,K=0,z=0,j=1000,N=0,k=0,q=0,P="object"==typeof performance&&performance.now?performance:Date,g="function"==typeof requestAnimationFrame?requestAnimationFrame:function(a){setTimeout(a,17)};J.prototype=F.prototype={constructor:J,restart:function(b,c,a){if("function"!=typeof b){throw new TypeError("callback is not a function")}a=(null==a?G():+a)+(null==c?0:+c),this._next||H===this||(H?H._next=this:R=this,H=this),this._call=b,this._time=a,L()},stop:function(){this._call&&(this._call=null,this._time=1/0,L())}},B.now=G,B.timer=F,B.timerFlush=D,B.timeout=Q,B.interval=C,Object.defineProperty(B,"__esModule",{value:!0})});