"use strict";window.jscolor||(window.jscolor=function(){var a={register:function(){a.attachDOMReadyEvent(a.init),a.attachEvent(document,"mousedown",a.onDocumentMouseDown),a.attachEvent(document,"touchstart",a.onDocumentTouchStart),a.attachEvent(window,"resize",a.onWindowResize)},init:function(){a.jscolor.lookupClass&&a.jscolor.installByClassName(a.jscolor.lookupClass)},tryInstallOnElements:function(m,d){var b=new RegExp("(^|\\s)("+d+")(\\s*(\\{[^}]*\\})|\\s|$)","i");for(var g=0;g<m.length;g+=1){if(m[g].type!==undefined&&m[g].type.toLowerCase()=="color"&&a.isColorAttrSupported){continue}var p;if(!m[g].jscolor&&m[g].className&&(p=m[g].className.match(b))){var c=m[g],k=null,j=a.getDataAttr(c,"jscolor");j!==null?k=j:p[4]&&(k=p[4]);var h={};if(k){try{h=(new Function("return ("+k+")"))()}catch(e){a.warn("Error parsing jscolor options: "+e+":\n"+k)}}c.jscolor=new a.jscolor(c,h)}}},isColorAttrSupported:function(){var b=document.createElement("input");if(b.setAttribute){b.setAttribute("type","color");if(b.type.toLowerCase()=="color"){return !0}}return !1}(),isCanvasSupported:function(){var b=document.createElement("canvas");return !!b.getContext&&!!b.getContext("2d")}(),fetchElement:function(b){return typeof b=="string"?document.getElementById(b):b},isElementType:function(c,b){return c.nodeName.toLowerCase()===b.toLowerCase()},getDataAttr:function(d,b){var f="data-"+b,c=d.getAttribute(f);return c!==null?c:null},attachEvent:function(c,b,d){c.addEventListener?c.addEventListener(b,d,!1):c.attachEvent&&c.attachEvent("on"+b,d)},detachEvent:function(c,b,d){c.removeEventListener?c.removeEventListener(b,d,!1):c.detachEvent&&c.detachEvent("on"+b,d)},_attachedGroupEvents:{},attachGroupEvent:function(c,e,d,b){a._attachedGroupEvents.hasOwnProperty(c)||(a._attachedGroupEvents[c]=[]),a._attachedGroupEvents[c].push([e,d,b]),a.attachEvent(e,d,b)},detachGroupEvents:function(b){if(a._attachedGroupEvents.hasOwnProperty(b)){for(var d=0;d<a._attachedGroupEvents[b].length;d+=1){var c=a._attachedGroupEvents[b][d];a.detachEvent(c[0],c[1],c[2])}delete a._attachedGroupEvents[b]}},attachDOMReadyEvent:function(d){var b=!1,f=function(){b||(b=!0,d())};if(document.readyState==="complete"){setTimeout(f,1);return}if(document.addEventListener){document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&(document.detachEvent("onreadystatechange",arguments.callee),f())}),window.attachEvent("onload",f);if(document.documentElement.doScroll&&window==window.top){var c=function(){if(!document.body){return}try{document.documentElement.doScroll("left"),f()}catch(g){setTimeout(c,1)}};c()}}}},warn:function(b){window.console&&window.console.warn&&window.console.warn(b)},preventDefault:function(b){b.preventDefault&&b.preventDefault(),b.returnValue=!1},captureTarget:function(b){b.setCapture&&(a._capturedTarget=b,a._capturedTarget.setCapture())},releaseTarget:function(){a._capturedTarget&&(a._capturedTarget.releaseCapture(),a._capturedTarget=null)},fireEvent:function(c,b){if(!c){return}if(document.createEvent){var d=document.createEvent("HTMLEvents");d.initEvent(b,!0,!0),c.dispatchEvent(d)}else{if(document.createEventObject){var d=document.createEventObject();c.fireEvent("on"+b,d)}else{c["on"+b]&&c["on"+b]()}}},classNameToList:function(b){return b.replace(/^\s+|\s+$/g,"").split(/\s+/)},hasClass:function(c,b){return b?-1!=(" "+c.className.replace(/\s+/g," ")+" ").indexOf(" "+b+" "):!1},setClass:function(c,e){var d=a.classNameToList(e);for(var b=0;b<d.length;b+=1){a.hasClass(c,d[b])||(c.className+=(c.className?" ":"")+d[b])}},unsetClass:function(c,f){var e=a.classNameToList(f);for(var b=0;b<e.length;b+=1){var d=new RegExp("^\\s*"+e[b]+"\\s*|\\s*"+e[b]+"\\s*$|\\s+"+e[b]+"(\\s+)","g");c.className=c.className.replace(d,"$1")}},getStyle:function(b){return window.getComputedStyle?window.getComputedStyle(b):b.currentStyle},setStyle:function(){var c=document.createElement("div"),b=function(e){for(var f=0;f<e.length;f+=1){if(e[f] in c.style){return e[f]}}},d={borderRadius:b(["borderRadius","MozBorderRadius","webkitBorderRadius"]),boxShadow:b(["boxShadow","MozBoxShadow","webkitBoxShadow"])};return function(j,g,h){switch(g.toLowerCase()){case"opacity":var f=Math.round(parseFloat(h)*100);j.style.opacity=h,j.style.filter="alpha(opacity="+f+")";break;default:j.style[d[g]]=h}}}(),setBorderRadius:function(b,c){a.setStyle(b,"borderRadius",c||"0")},setBoxShadow:function(b,c){a.setStyle(b,"boxShadow",c||"none")},getElementPos:function(c,g){var e=0,b=0,d=c.getBoundingClientRect();e=d.left,b=d.top;if(!g){var f=a.getViewPos();e+=f[0],b+=f[1]}return[e,b]},getElementSize:function(b){return[b.offsetWidth,b.offsetHeight]},getAbsPointerPos:function(c){c||(c=window.event);var b=0,d=0;return typeof c.changedTouches!="undefined"&&c.changedTouches.length?(b=c.changedTouches[0].clientX,d=c.changedTouches[0].clientY):typeof c.clientX=="number"&&(b=c.clientX,d=c.clientY),{x:b,y:d}},getRelPointerPos:function(g){g||(g=window.event);var c=g.target||g.srcElement,j=c.getBoundingClientRect(),f=0,b=0,d=0,h=0;return typeof g.changedTouches!="undefined"&&g.changedTouches.length?(d=g.changedTouches[0].clientX,h=g.changedTouches[0].clientY):typeof g.clientX=="number"&&(d=g.clientX,h=g.clientY),f=d-j.left,b=h-j.top,{x:f,y:b}},getViewPos:function(){var b=document.documentElement;return[(window.pageXOffset||b.scrollLeft)-(b.clientLeft||0),(window.pageYOffset||b.scrollTop)-(b.clientTop||0)]},getViewSize:function(){var b=document.documentElement;return[window.innerWidth||b.clientWidth,window.innerHeight||b.clientHeight]},redrawPosition:function(){if(a.picker&&a.picker.owner){var C=a.picker.owner,j,b;C.fixed?(j=a.getElementPos(C.targetElement,!0),b=[0,0]):(j=a.getElementPos(C.targetElement),b=a.getViewPos());var m=a.getElementSize(C.targetElement),D=a.getViewSize(),g=a.getPickerOuterDims(C),B,z,w;switch(C.position.toLowerCase()){case"left":B=1,z=0,w=-1;break;case"right":B=1,z=0,w=1;break;case"top":B=0,z=1,w=-1;break;default:B=0,z=1,w=1}var k=(m[z]+g[z])/2;if(!C.smartPosition){var y=[j[B],j[z]+m[z]-k+k*w]}else{var y=[-b[B]+j[B]+g[B]>D[B]?-b[B]+j[B]+m[B]/2>D[B]/2&&j[B]+m[B]-g[B]>=0?j[B]+m[B]-g[B]:j[B]:j[B],-b[z]+j[z]+m[z]+g[z]-k+k*w>D[z]?-b[z]+j[z]+m[z]/2>D[z]/2&&j[z]+m[z]-k-k*w>=0?j[z]+m[z]-k-k*w:j[z]+m[z]-k+k*w:j[z]+m[z]-k+k*w>=0?j[z]+m[z]-k+k*w:j[z]+m[z]-k-k*w]}var q=y[B],e=y[z],x=C.fixed?"fixed":"absolute",A=(y[0]+g[0]>j[0]||y[0]<j[0]+m[0])&&y[1]+g[1]<j[1]+m[1];a._drawPosition(C,q,e,x,A)}},_drawPosition:function(c,g,e,b,d){var f=d?0:c.shadowBlur;a.picker.wrap.style.position=b,a.picker.wrap.style.left=g+"px",a.picker.wrap.style.top=e+"px",a.setBoxShadow(a.picker.boxS,c.shadow?new a.BoxShadow(0,f,c.shadowBlur,0,c.shadowColor):null)},getPickerDims:function(b){var d=!!a.getSliderComponent(b),c=[2*b.insetWidth+2*b.padding+b.width+(d?2*b.insetWidth+a.getPadToSliderPadding(b)+b.sliderSize:0),2*b.insetWidth+2*b.padding+b.height+(b.closable?2*b.insetWidth+b.padding+b.buttonHeight:0)];return c},getPickerOuterDims:function(b){var c=a.getPickerDims(b);return[c[0]+2*b.borderWidth,c[1]+2*b.borderWidth]},getPadToSliderPadding:function(b){return Math.max(b.padding,1.5*(2*b.pointerBorderWidth+b.pointerThickness))},getPadYComponent:function(b){switch(b.mode.charAt(1).toLowerCase()){case"v":return"v"}return"s"},getSliderComponent:function(b){if(b.mode.length>2){switch(b.mode.charAt(2).toLowerCase()){case"s":return"s";case"v":return"v"}}return null},onDocumentMouseDown:function(b){b||(b=window.event);var c=b.target||b.srcElement;c._jscLinkedInstance?c._jscLinkedInstance.showOnClick&&c._jscLinkedInstance.show():c._jscControlName?a.onControlPointerStart(b,c,c._jscControlName,"mouse"):a.picker&&a.picker.owner&&a.picker.owner.hide()},onDocumentTouchStart:function(b){b||(b=window.event);var c=b.target||b.srcElement;c._jscLinkedInstance?c._jscLinkedInstance.showOnClick&&c._jscLinkedInstance.show():c._jscControlName?a.onControlPointerStart(b,c,c._jscControlName,"touch"):a.picker&&a.picker.owner&&a.picker.owner.hide()},onWindowResize:function(b){a.redrawPosition()},onParentScroll:function(b){a.picker&&a.picker.owner&&a.picker.owner.hide()},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,_capturedTarget:null,onControlPointerStart:function(m,d,b,g){var p=d._jscInstance;a.preventDefault(m),a.captureTarget(d);var c=function(f,i){a.attachGroupEvent("drag",f,a._pointerMoveEvent[g],a.onDocumentPointerMove(m,d,b,g,i)),a.attachGroupEvent("drag",f,a._pointerEndEvent[g],a.onDocumentPointerEnd(m,d,b,g))};c(document,[0,0]);if(window.parent&&window.frameElement){var k=window.frameElement.getBoundingClientRect(),j=[-k.left,-k.top];c(window.parent.window.document,j)}var h=a.getAbsPointerPos(m),e=a.getRelPointerPos(m);a._pointerOrigin={x:h.x-e.x,y:h.y-e.y};switch(b){case"pad":switch(a.getSliderComponent(p)){case"s":p.hsv[1]===0&&p.fromHSV(null,100,null);break;case"v":p.hsv[2]===0&&p.fromHSV(null,null,100)}a.setPad(p,m,0,0);break;case"sld":a.setSld(p,m,0)}a.dispatchFineChange(p)},onDocumentPointerMove:function(c,f,e,b,d){return function(h){var g=f._jscInstance;switch(e){case"pad":h||(h=window.event),a.setPad(g,h,d[0],d[1]),a.dispatchFineChange(g);break;case"sld":h||(h=window.event),a.setSld(g,h,d[1]),a.dispatchFineChange(g)}}},onDocumentPointerEnd:function(c,e,d,b){return function(f){var g=e._jscInstance;a.detachGroupEvents("drag"),a.releaseTarget(),a.dispatchChange(g)}},dispatchChange:function(b){b.valueElement&&a.isElementType(b.valueElement,"input")&&a.fireEvent(b.valueElement,"change")},dispatchFineChange:function(c){if(c.onFineChange){var b;typeof c.onFineChange=="string"?b=new Function(c.onFineChange):b=c.onFineChange,b.call(c)}},setPad:function(k,d,b,e){var l=a.getAbsPointerPos(d),c=b+l.x-a._pointerOrigin.x-k.padding-k.insetWidth,j=e+l.y-a._pointerOrigin.y-k.padding-k.insetWidth,h=c*(360/(k.width-1)),g=100-j*(100/(k.height-1));switch(a.getPadYComponent(k)){case"s":k.fromHSV(h,g,null,a.leaveSld);break;case"v":k.fromHSV(h,null,g,a.leaveSld)}},setSld:function(c,g,e){var b=a.getAbsPointerPos(g),d=e+b.y-a._pointerOrigin.y-c.padding-c.insetWidth,f=100-d*(100/(c.height-1));switch(a.getSliderComponent(c)){case"s":c.fromHSV(null,f,null,a.leavePad);break;case"v":c.fromHSV(null,null,f,a.leavePad)}},_vmlNS:"jsc_vml_",_vmlCSS:"jsc_vml_css_",_vmlReady:!1,initVML:function(){if(!a._vmlReady){var c=document;c.namespaces[a._vmlNS]||c.namespaces.add(a._vmlNS,"urn:schemas-microsoft-com:vml");if(!c.styleSheets[a._vmlCSS]){var e=["shape","shapetype","group","background","path","formulas","handles","fill","stroke","shadow","textbox","textpath","imagedata","line","polyline","curve","rect","roundrect","oval","arc","image"],d=c.createStyleSheet();d.owningElement.id=a._vmlCSS;for(var b=0;b<e.length;b+=1){d.addRule(a._vmlNS+"\\:"+e[b],"behavior:url(#default#VML);")}}a._vmlReady=!0}},createPalette:function(){var k={elm:null,draw:null};if(a.isCanvasSupported){var d=document.createElement("canvas"),b=d.getContext("2d"),e=function(p,m,f){d.width=p,d.height=m,b.clearRect(0,0,d.width,d.height);var n=b.createLinearGradient(0,0,d.width,0);n.addColorStop(0,"#F00"),n.addColorStop(1/6,"#FF0"),n.addColorStop(2/6,"#0F0"),n.addColorStop(0.5,"#0FF"),n.addColorStop(4/6,"#00F"),n.addColorStop(5/6,"#F0F"),n.addColorStop(1,"#F00"),b.fillStyle=n,b.fillRect(0,0,d.width,d.height);var q=b.createLinearGradient(0,0,0,d.height);switch(f.toLowerCase()){case"s":q.addColorStop(0,"rgba(255,255,255,0)"),q.addColorStop(1,"rgba(255,255,255,1)");break;case"v":q.addColorStop(0,"rgba(0,0,0,0)"),q.addColorStop(1,"rgba(0,0,0,1)")}b.fillStyle=q,b.fillRect(0,0,d.width,d.height)};k.elm=d,k.draw=e}else{a.initVML();var l=document.createElement("div");l.style.position="relative",l.style.overflow="hidden";var c=document.createElement(a._vmlNS+":fill");c.type="gradient",c.method="linear",c.angle="90",c.colors="16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0";var j=document.createElement(a._vmlNS+":rect");j.style.position="absolute",j.style.left="-1px",j.style.top="-1px",j.stroked=!1,j.appendChild(c),l.appendChild(j);var h=document.createElement(a._vmlNS+":fill");h.type="gradient",h.method="linear",h.angle="180",h.opacity="0";var g=document.createElement(a._vmlNS+":rect");g.style.position="absolute",g.style.left="-1px",g.style.top="-1px",g.stroked=!1,g.appendChild(h),l.appendChild(g);var e=function(i,f,m){l.style.width=i+"px",l.style.height=f+"px",j.style.width=g.style.width=i+1+"px",j.style.height=g.style.height=f+1+"px",c.color="#F00",c.color2="#F00";switch(m.toLowerCase()){case"s":h.color=h.color2="#FFF";break;case"v":h.color=h.color2="#000"}};k.elm=l,k.draw=e}return k},createSliderGradient:function(){var d={elm:null,draw:null};if(a.isCanvasSupported){var h=document.createElement("canvas"),f=h.getContext("2d"),c=function(m,k,j,l){h.width=m,h.height=k,f.clearRect(0,0,h.width,h.height);var n=f.createLinearGradient(0,0,0,h.height);n.addColorStop(0,j),n.addColorStop(1,l),f.fillStyle=n,f.fillRect(0,0,h.width,h.height)};d.elm=h,d.draw=c}else{a.initVML();var e=document.createElement("div");e.style.position="relative",e.style.overflow="hidden";var g=document.createElement(a._vmlNS+":fill");g.type="gradient",g.method="linear",g.angle="180";var b=document.createElement(a._vmlNS+":rect");b.style.position="absolute",b.style.left="-1px",b.style.top="-1px",b.stroked=!1,b.appendChild(g),e.appendChild(b);var c=function(k,i,l,j){e.style.width=k+"px",e.style.height=i+"px",b.style.width=k+1+"px",b.style.height=i+1+"px",g.color=l,g.color2=j};d.elm=e,d.draw=c}return d},leaveValue:1,leaveStyle:2,leavePad:4,leaveSld:8,BoxShadow:function(){var b=function(h,d,j,g,c,f){this.hShadow=h,this.vShadow=d,this.blur=j,this.spread=g,this.color=c,this.inset=!!f};return b.prototype.toString=function(){var c=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];return this.inset&&c.push("inset"),c.join(" ")},b}(),jscolor:function(k,A){function D(h,d,m){h/=255,d/=255,m/=255;var g=Math.min(Math.min(h,d),m),c=Math.max(Math.max(h,d),m),f=c-g;if(f===0){return[null,0,100*c]}var l=h===g?3+(m-d)/f:d===g?5+(h-m)/f:1+(d-h)/f;return[60*(l===6?0:l),100*(f/c),100*c]}function q(l,f,p){var h=255*(p/100);if(l===null){return[h,h,h]}l/=60,f/=100;var d=Math.floor(l),g=d%2?l-d:1-(l-d),m=h*(1-f),c=h*(1-f*g);switch(d){case 6:case 0:return[h,c,m];case 1:return[c,h,m];case 2:return[m,h,c];case 3:return[m,c,h];case 4:return[c,m,h];case 5:return[h,m,c]}}function z(){a.unsetClass(H.targetElement,H.activeClass),a.picker.wrap.parentNode.removeChild(a.picker.wrap),delete a.picker.owner}function j(){function h(){var c=H.insetColor.split(/\s+/),i=c.length<2?c[0]:c[1]+" "+c[0]+" "+c[0]+" "+c[1];y.btn.style.borderColor=i}H._processParentElementsInDOM(),a.picker||(a.picker={owner:null,wrap:document.createElement("div"),box:document.createElement("div"),boxS:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),padPal:a.createPalette(),cross:document.createElement("div"),crossBY:document.createElement("div"),crossBX:document.createElement("div"),crossLY:document.createElement("div"),crossLX:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),sldGrad:a.createSliderGradient(),sldPtrS:document.createElement("div"),sldPtrIB:document.createElement("div"),sldPtrMB:document.createElement("div"),sldPtrOB:document.createElement("div"),btn:document.createElement("div"),btnT:document.createElement("span")},a.picker.pad.appendChild(a.picker.padPal.elm),a.picker.padB.appendChild(a.picker.pad),a.picker.cross.appendChild(a.picker.crossBY),a.picker.cross.appendChild(a.picker.crossBX),a.picker.cross.appendChild(a.picker.crossLY),a.picker.cross.appendChild(a.picker.crossLX),a.picker.padB.appendChild(a.picker.cross),a.picker.box.appendChild(a.picker.padB),a.picker.box.appendChild(a.picker.padM),a.picker.sld.appendChild(a.picker.sldGrad.elm),a.picker.sldB.appendChild(a.picker.sld),a.picker.sldB.appendChild(a.picker.sldPtrOB),a.picker.sldPtrOB.appendChild(a.picker.sldPtrMB),a.picker.sldPtrMB.appendChild(a.picker.sldPtrIB),a.picker.sldPtrIB.appendChild(a.picker.sldPtrS),a.picker.box.appendChild(a.picker.sldB),a.picker.box.appendChild(a.picker.sldM),a.picker.btn.appendChild(a.picker.btnT),a.picker.box.appendChild(a.picker.btn),a.picker.boxB.appendChild(a.picker.box),a.picker.wrap.appendChild(a.picker.boxS),a.picker.wrap.appendChild(a.picker.boxB));var y=a.picker,g=!!a.getSliderComponent(H),d=a.getPickerDims(H),m=2*H.pointerBorderWidth+H.pointerThickness+2*H.crossSize,K=a.getPadToSliderPadding(H),f=Math.min(H.borderRadius,Math.round(H.padding*Math.PI)),v="crosshair";y.wrap.style.clear="both",y.wrap.style.width=d[0]+2*H.borderWidth+"px",y.wrap.style.height=d[1]+2*H.borderWidth+"px",y.wrap.style.zIndex=H.zIndex,y.box.style.width=d[0]+"px",y.box.style.height=d[1]+"px",y.boxS.style.position="absolute",y.boxS.style.left="0",y.boxS.style.top="0",y.boxS.style.width="100%",y.boxS.style.height="100%",a.setBorderRadius(y.boxS,f+"px"),y.boxB.style.position="relative",y.boxB.style.border=H.borderWidth+"px solid",y.boxB.style.borderColor=H.borderColor,y.boxB.style.background=H.backgroundColor,a.setBorderRadius(y.boxB,f+"px"),y.padM.style.background=y.sldM.style.background="#FFF",a.setStyle(y.padM,"opacity","0"),a.setStyle(y.sldM,"opacity","0"),y.pad.style.position="relative",y.pad.style.width=H.width+"px",y.pad.style.height=H.height+"px",y.padPal.draw(H.width,H.height,a.getPadYComponent(H)),y.padB.style.position="absolute",y.padB.style.left=H.padding+"px",y.padB.style.top=H.padding+"px",y.padB.style.border=H.insetWidth+"px solid",y.padB.style.borderColor=H.insetColor,y.padM._jscInstance=H,y.padM._jscControlName="pad",y.padM.style.position="absolute",y.padM.style.left="0",y.padM.style.top="0",y.padM.style.width=H.padding+2*H.insetWidth+H.width+K/2+"px",y.padM.style.height=d[1]+"px",y.padM.style.cursor=v,y.cross.style.position="absolute",y.cross.style.left=y.cross.style.top="0",y.cross.style.width=y.cross.style.height=m+"px",y.crossBY.style.position=y.crossBX.style.position="absolute",y.crossBY.style.background=y.crossBX.style.background=H.pointerBorderColor,y.crossBY.style.width=y.crossBX.style.height=2*H.pointerBorderWidth+H.pointerThickness+"px",y.crossBY.style.height=y.crossBX.style.width=m+"px",y.crossBY.style.left=y.crossBX.style.top=Math.floor(m/2)-Math.floor(H.pointerThickness/2)-H.pointerBorderWidth+"px",y.crossBY.style.top=y.crossBX.style.left="0",y.crossLY.style.position=y.crossLX.style.position="absolute",y.crossLY.style.background=y.crossLX.style.background=H.pointerColor,y.crossLY.style.height=y.crossLX.style.width=m-2*H.pointerBorderWidth+"px",y.crossLY.style.width=y.crossLX.style.height=H.pointerThickness+"px",y.crossLY.style.left=y.crossLX.style.top=Math.floor(m/2)-Math.floor(H.pointerThickness/2)+"px",y.crossLY.style.top=y.crossLX.style.left=H.pointerBorderWidth+"px",y.sld.style.overflow="hidden",y.sld.style.width=H.sliderSize+"px",y.sld.style.height=H.height+"px",y.sldGrad.draw(H.sliderSize,H.height,"#000","#000"),y.sldB.style.display=g?"block":"none",y.sldB.style.position="absolute",y.sldB.style.right=H.padding+"px",y.sldB.style.top=H.padding+"px",y.sldB.style.border=H.insetWidth+"px solid",y.sldB.style.borderColor=H.insetColor,y.sldM._jscInstance=H,y.sldM._jscControlName="sld",y.sldM.style.display=g?"block":"none",y.sldM.style.position="absolute",y.sldM.style.right="0",y.sldM.style.top="0",y.sldM.style.width=H.sliderSize+K/2+H.padding+2*H.insetWidth+"px",y.sldM.style.height=d[1]+"px",y.sldM.style.cursor="default",y.sldPtrIB.style.border=y.sldPtrOB.style.border=H.pointerBorderWidth+"px solid "+H.pointerBorderColor,y.sldPtrOB.style.position="absolute",y.sldPtrOB.style.left=-(2*H.pointerBorderWidth+H.pointerThickness)+"px",y.sldPtrOB.style.top="0",y.sldPtrMB.style.border=H.pointerThickness+"px solid "+H.pointerColor,y.sldPtrS.style.width=H.sliderSize+"px",y.sldPtrS.style.height=B+"px",y.btn.style.display=H.closable?"block":"none",y.btn.style.position="absolute",y.btn.style.left=H.padding+"px",y.btn.style.bottom=H.padding+"px",y.btn.style.padding="0 15px",y.btn.style.height=H.buttonHeight+"px",y.btn.style.border=H.insetWidth+"px solid",h(),y.btn.style.color=H.buttonColor,y.btn.style.font="12px sans-serif",y.btn.style.textAlign="center";try{y.btn.style.cursor="pointer"}catch(p){y.btn.style.cursor="hand"}y.btn.onmousedown=function(){H.hide()},y.btnT.style.lineHeight=H.buttonHeight+"px",y.btnT.innerHTML="",y.btnT.appendChild(document.createTextNode(H.closeText)),J(),G(),a.picker.owner&&a.picker.owner!==H&&a.unsetClass(a.picker.owner.targetElement,H.activeClass),a.picker.owner=H,a.isElementType(e,"body")?a.redrawPosition():a._drawPosition(H,0,0,"relative",!1),y.wrap.parentNode!=e&&e.appendChild(y.wrap),a.setClass(H.targetElement,H.activeClass)}function J(){switch(a.getPadYComponent(H)){case"s":var L=1;break;case"v":var L=2}var h=Math.round(H.hsv[0]/360*(H.width-1)),d=Math.round((1-H.hsv[L]/100)*(H.height-1)),p=2*H.pointerBorderWidth+H.pointerThickness+2*H.crossSize,g=-Math.floor(p/2);a.picker.cross.style.left=h+g+"px",a.picker.cross.style.top=d+g+"px";switch(a.getSliderComponent(H)){case"s":var K=q(H.hsv[0],100,H.hsv[2]),y=q(H.hsv[0],0,H.hsv[2]),s="rgb("+Math.round(K[0])+","+Math.round(K[1])+","+Math.round(K[2])+")",m="rgb("+Math.round(y[0])+","+Math.round(y[1])+","+Math.round(y[2])+")";a.picker.sldGrad.draw(H.sliderSize,H.height,s,m);break;case"v":var v=q(H.hsv[0],H.hsv[1],100),s="rgb("+Math.round(v[0])+","+Math.round(v[1])+","+Math.round(v[2])+")",m="#000";a.picker.sldGrad.draw(H.sliderSize,H.height,s,m)}}function G(){var c=a.getSliderComponent(H);if(c){switch(c){case"s":var f=1;break;case"v":var f=2}var d=Math.round((1-H.hsv[f]/100)*(H.height-1));a.picker.sldPtrOB.style.top=d-(2*H.pointerBorderWidth+H.pointerThickness)-Math.floor(B/2)+"px"}}function C(){return a.picker&&a.picker.owner===H}function I(){H.importColor()}this.value=null,this.valueElement=k,this.styleElement=k,this.required=!0,this.refine=!0,this.hash=!1,this.uppercase=!0,this.onFineChange=null,this.activeClass="jscolor-active",this.minS=0,this.maxS=100,this.minV=0,this.maxV=100,this.hsv=[0,0,100],this.rgb=[255,255,255],this.width=181,this.height=101,this.showOnClick=!0,this.mode="HSV",this.position="bottom",this.smartPosition=!0,this.sliderSize=16,this.crossSize=8,this.closable=!1,this.closeText="Close",this.buttonColor="#000000",this.buttonHeight=18,this.padding=12,this.backgroundColor="#FFFFFF",this.borderWidth=1,this.borderColor="#BBBBBB",this.borderRadius=8,this.insetWidth=1,this.insetColor="#BBBBBB",this.shadow=!0,this.shadowBlur=15,this.shadowColor="rgba(0,0,0,0.2)",this.pointerColor="#4C4C4C",this.pointerBorderColor="#FFFFFF",this.pointerBorderWidth=1,this.pointerThickness=2,this.zIndex=1000,this.container=null;for(var w in A){A.hasOwnProperty(w)&&(this[w]=A[w])}this.hide=function(){C()&&z()},this.show=function(){j()},this.redraw=function(){C()&&j()},this.importColor=function(){this.valueElement?a.isElementType(this.valueElement,"input")?this.refine?!this.required&&/^\s*$/.test(this.valueElement.value)?(this.valueElement.value="",this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(a.leaveValue|a.leaveStyle)):this.fromString(this.valueElement.value)||this.exportColor():this.fromString(this.valueElement.value,a.leaveValue)||(this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(a.leaveValue|a.leaveStyle)):this.exportColor():this.exportColor()},this.exportColor=function(c){if(!(c&a.leaveValue)&&this.valueElement){var d=this.toString();this.uppercase&&(d=d.toUpperCase()),this.hash&&(d="#"+d),a.isElementType(this.valueElement,"input")?this.valueElement.value=d:this.valueElement.innerHTML=d}c&a.leaveStyle||this.styleElement&&(this.styleElement.style.backgroundImage="none",this.styleElement.style.backgroundColor="#"+this.toString(),this.styleElement.style.color=this.isLight()?"#000":"#FFF"),!(c&a.leavePad)&&C()&&J(),!(c&a.leaveSld)&&C()&&G()},this.fromHSV=function(f,c,g,d){if(f!==null){if(isNaN(f)){return !1}f=Math.max(0,Math.min(360,f))}if(c!==null){if(isNaN(c)){return !1}c=Math.max(0,Math.min(100,this.maxS,c),this.minS)}if(g!==null){if(isNaN(g)){return !1}g=Math.max(0,Math.min(100,this.maxV,g),this.minV)}this.rgb=q(f===null?this.hsv[0]:this.hsv[0]=f,c===null?this.hsv[1]:this.hsv[1]=c,g===null?this.hsv[2]:this.hsv[2]=g),this.exportColor(d)},this.fromRGB=function(g,d,i,f){if(g!==null){if(isNaN(g)){return !1}g=Math.max(0,Math.min(255,g))}if(d!==null){if(isNaN(d)){return !1}d=Math.max(0,Math.min(255,d))}if(i!==null){if(isNaN(i)){return !1}i=Math.max(0,Math.min(255,i))}var h=D(g===null?this.rgb[0]:g,d===null?this.rgb[1]:d,i===null?this.rgb[2]:i);h[0]!==null&&(this.hsv[0]=Math.max(0,Math.min(360,h[0]))),h[2]!==0&&(this.hsv[1]=h[1]===null?null:Math.max(0,this.minS,Math.min(100,this.maxS,h[1]))),this.hsv[2]=h[2]===null?null:Math.max(0,this.minV,Math.min(100,this.maxV,h[2]));var c=q(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=c[0],this.rgb[1]=c[1],this.rgb[2]=c[2],this.exportColor(f)},this.fromString=function(v,L){var g;if(g=v.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i)){return g[1].length===6?this.fromRGB(parseInt(g[1].substr(0,2),16),parseInt(g[1].substr(2,2),16),parseInt(g[1].substr(4,2),16),L):this.fromRGB(parseInt(g[1].charAt(0)+g[1].charAt(0),16),parseInt(g[1].charAt(1)+g[1].charAt(1),16),parseInt(g[1].charAt(2)+g[1].charAt(2),16),L),!0}if(g=v.match(/^\W*rgba?\(([^)]*)\)\W*$/i)){var c=g[1].split(","),m=/^\s*(\d*)(\.\d+)?\s*$/,M,d,K;if(c.length>=3&&(M=c[0].match(m))&&(d=c[1].match(m))&&(K=c[2].match(m))){var y=parseFloat((M[1]||"0")+(M[2]||"")),p=parseFloat((d[1]||"0")+(d[2]||"")),h=parseFloat((K[1]||"0")+(K[2]||""));return this.fromRGB(y,p,h,L),!0}}return !1},this.toString=function(){return(256|Math.round(this.rgb[0])).toString(16).substr(1)+(256|Math.round(this.rgb[1])).toString(16).substr(1)+(256|Math.round(this.rgb[2])).toString(16).substr(1)},this.toHEXString=function(){return"#"+this.toString().toUpperCase()},this.toRGBString=function(){return"rgb("+Math.round(this.rgb[0])+","+Math.round(this.rgb[1])+","+Math.round(this.rgb[2])+")"},this.isLight=function(){return 0.213*this.rgb[0]+0.715*this.rgb[1]+0.072*this.rgb[2]>127.5},this._processParentElementsInDOM=function(){if(this._linkedElementsProcessed){return}this._linkedElementsProcessed=!0;var c=this.targetElement;do{var d=a.getStyle(c);d&&d.position.toLowerCase()==="fixed"&&(this.fixed=!0),c!==this.targetElement&&(c._jscEventsAttached||(a.attachEvent(c,"scroll",a.onParentScroll),c._jscEventsAttached=!0))}while((c=c.parentNode)&&!a.isElementType(c,"body"))};if(typeof k=="string"){var E=k,x=document.getElementById(E);x?this.targetElement=x:a.warn("Could not find target element with ID '"+E+"'")}else{k?this.targetElement=k:a.warn("Invalid target element: '"+k+"'")}if(this.targetElement._jscLinkedInstance){a.warn("Cannot link jscolor twice to the same element. Skipping.");return}this.targetElement._jscLinkedInstance=this,this.valueElement=a.fetchElement(this.valueElement),this.styleElement=a.fetchElement(this.styleElement);var H=this,e=this.container?a.fetchElement(this.container):document.getElementsByTagName("body")[0],B=3;if(a.isElementType(this.targetElement,"button")){if(this.targetElement.onclick){var F=this.targetElement.onclick;this.targetElement.onclick=function(c){return F.call(this,c),!1}}else{this.targetElement.onclick=function(){return !1}}}if(this.valueElement&&a.isElementType(this.valueElement,"input")){var b=function(){H.fromString(H.valueElement.value,a.leaveValue),a.dispatchFineChange(H)};a.attachEvent(this.valueElement,"keyup",b),a.attachEvent(this.valueElement,"input",b),a.attachEvent(this.valueElement,"blur",I),this.valueElement.setAttribute("autocomplete","off")}this.styleElement&&(this.styleElement._jscOrigStyle={backgroundImage:this.styleElement.style.backgroundImage,backgroundColor:this.styleElement.style.backgroundColor,color:this.styleElement.style.color}),this.value?this.fromString(this.value)||this.exportColor():this.importColor()}};return a.jscolor.lookupClass="jscolor",a.jscolor.installByClassName=function(b){var d=document.getElementsByTagName("input"),c=document.getElementsByTagName("button");a.tryInstallOnElements(d,b),a.tryInstallOnElements(c,b)},a.register(),a.jscolor}());